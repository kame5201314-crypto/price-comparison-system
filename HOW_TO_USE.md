# 📖 智能商品比價系統 - 使用說明

## 🎯 系統簡介

智能商品比價系統是一個功能強大的價格比較工具，可以幫助您：
- 🔍 搜尋多個電商平台的商品
- 💰 快速比較價格找到最優惠
- 📊 查看銷量、評分等資訊
- 🏪 管理廠商與訂單

---

## 🚀 啟動系統

### 1. 安裝與配置

```bash
# 1. 安裝依賴套件
npm install

# 2. 複製環境變數範例
cp .env.example .env

# 3. 編輯 .env 文件，填入您的配置
# 需要配置: Supabase URL 和 Key
# 可選配置: AI API Key (用於圖片搜尋)
```

### 2. 設置數據庫

1. 登入 [Supabase Dashboard](https://app.supabase.com/)
2. 創建新專案或選擇現有專案
3. 進入 **SQL Editor**
4. 打開 `supabase-schema.sql` 文件
5. 複製全部內容並執行

### 3. 啟動應用

```bash
npm run dev
```

打開瀏覽器訪問: http://localhost:5173

---

## 🎨 使用界面

### 主頁面結構

```
┌─────────────────────────────────────────┐
│  智能商品比價系統                        │
│  [搜尋比價] [廠商管理] [訂單追蹤]        │
└─────────────────────────────────────────┘
│                                          │
│  找到最優惠的商品價格                    │
│  支持關鍵字、網址、圖片搜尋              │
│                                          │
│  ┌────────────────────────────────────┐ │
│  │ [關鍵字] [網址] [圖片]             │ │
│  │                                    │ │
│  │  輸入/上傳區域                     │ │
│  │                                    │ │
│  │  ☑ 蝦皮  ☑ PChome  ☑ momo        │ │
│  │                                    │ │
│  │  [  開始比價  ]                    │ │
│  └────────────────────────────────────┘ │
│                                          │
│  [多方式搜尋] [批量比價] [廠商管理]      │
└─────────────────────────────────────────┘
```

---

## 🔍 搜尋功能詳解

### 方式 1: 關鍵字搜尋 (最常用)

**適用場景**: 知道商品名稱，想找最便宜的

**操作步驟**:
1. 點擊「**關鍵字搜尋**」分頁
2. 在輸入框輸入商品名稱
   - 例如: `iPhone 15 Pro 256GB`
   - 例如: `Nike Air Max 90`
   - 例如: `Sony WH-1000XM5 耳機`
3. 選擇要搜尋的平台
   - 建議選擇 2-3 個平台
   - 可全選，但速度較慢
4. 點擊「**開始比價**」按鈕
5. 等待搜尋完成（約 5-15 秒）
6. 查看比價結果

**搜尋技巧**:
- ✅ 包含品牌名稱: `Apple iPhone 15`
- ✅ 包含型號規格: `iPhone 15 Pro 256GB 紫色`
- ✅ 使用完整名稱: `Sony WH-1000XM5 無線降噪耳機`
- ❌ 避免太籠統: `手機`、`耳機`
- ❌ 避免特殊符號: `【熱銷】iPhone!!!`

---

### 方式 2: 網址搜尋 (最快速)

**適用場景**: 在某平台看到商品，想比較其他平台價格

**操作步驟**:
1. 在蝦皮/PChome/momo 找到想要的商品
2. 複製商品頁面的網址
   - 蝦皮: `https://shopee.tw/product/12345/67890`
   - PChome: `https://24h.pchome.com.tw/prod/...`
   - momo: `https://www.momoshop.com.tw/goods/...`
3. 點擊「**網址搜尋**」分頁
4. 貼上網址到輸入框
5. 選擇其他要比價的平台
6. 點擊「**開始比價**」
7. 系統自動提取商品資訊並搜尋

**優點**:
- ⚡ 最快速的比價方式
- 🎯 商品資訊最準確
- 🔄 自動提取規格與名稱

**限制**:
- 只支持蝦皮、PChome、momo 的網址
- 需要是有效的商品連結

---

### 方式 3: 圖片搜尋 (最智能)

**適用場景**: 看到實物或圖片，不知道商品名稱

**操作步驟**:
1. 準備商品圖片
   - 從網路下載
   - 手機拍照
   - 截圖保存
2. 點擊「**圖片搜尋**」分頁
3. 點擊或拖曳圖片到上傳區域
4. 等待圖片上傳（顯示文件名）
5. 選擇要搜尋的平台
6. 點擊「**開始比價**」
7. AI 識別商品後自動搜尋

**圖片要求**:
- ✅ 格式: PNG, JPG, JPEG, GIF, WebP
- ✅ 大小: 建議 < 5MB
- ✅ 品質: 清晰的商品主圖
- ✅ 內容: 商品明顯可見
- ❌ 避免: 背景複雜、多個商品、過小或模糊

**AI 識別準確度**:
- 📱 3C 產品: 85-90%
- 👕 服飾鞋包: 75-85%
- 🏠 家居用品: 70-80%
- 🍔 食品飲料: 65-75%

**注意**: 圖片搜尋需要配置 AI API Key

---

## 📊 查看比價結果

### 結果頁面結構

```
┌─────────────────────────────────────────┐
│  比價結果                                │
│  找到 15 個商品                          │
│                                          │
│  ┌──────┐  ┌──────┐  ┌──────┐          │
│  │最低價│  │最高銷│  │平台數│          │
│  │$999 │  │ 1.2萬│  │  3  │          │
│  └──────┘  └──────┘  └──────┘          │
│                                          │
│  排序: [價格] [銷量] [評分] [折扣]       │
└─────────────────────────────────────────┘
│                                          │
│  ┌────────────────────────────────────┐ │
│  │ [圖片] iPhone 15 Pro 256GB 紫色   │ │
│  │        蝦皮                         │ │
│  │        NT$ 35,900  原價: NT$ 39,900│ │
│  │        -10%  [最低價]               │ │
│  │        ⭐ 4.8 (1.2k)  已售 3.5萬    │ │
│  │        [前往購買] [加入收藏]        │ │
│  └────────────────────────────────────┘ │
│                                          │
│  ┌────────────────────────────────────┐ │
│  │ [圖片] iPhone 15 Pro 256GB        │ │
│  │        PChome                       │ │
│  │        NT$ 36,900                  │ │
│  │        ⭐ 5.0 (156)  免運           │ │
│  │        [前往購買] [加入收藏]        │ │
│  └────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### 結果排序

點擊排序按鈕可改變顯示順序:

1. **💰 價格排序**
   - 從低到高
   - 幫您找到最便宜的

2. **📈 銷量排序**
   - 從高到低
   - 找出最多人買的

3. **⭐ 評分排序**
   - 從高到低
   - 找出評價最好的

4. **🔥 折扣排序**
   - 折扣最大優先
   - 找出最划算的

### 商品資訊說明

每個商品卡片顯示:
- 📸 **商品圖片**: 點擊可放大
- 📦 **商品名稱**: 完整標題
- 🏪 **平台標籤**: 來源平台
- 💵 **現在價格**: 大字紅色顯示
- 💸 **原價**: 灰色刪除線（如有）
- 🎯 **折扣率**: 紅色標籤（如有）
- 🏅 **最低價標籤**: 綠色標籤
- ⭐ **評分**: 1-5星
- 💬 **評論數**: 括號內數字
- 📊 **銷售量**: 已售數量
- 🚚 **運費**: 免運或金額
- 📦 **庫存**: 有貨/缺貨

### 操作按鈕

- **前往購買**: 開啟新分頁到商品頁面
- **加入收藏**: 保存到我的最愛（開發中）
- **重新搜尋**: 返回搜尋頁面

---

## 💡 使用技巧

### 1. 快速比價流程

```
看到想要的商品
    ↓
複製商品網址
    ↓
選擇「網址搜尋」
    ↓
貼上網址 + 選平台
    ↓
開始比價（5-10秒）
    ↓
按價格排序
    ↓
點擊「前往購買」
    ↓
完成下單！
```

### 2. 提高搜尋準確度

**關鍵字搜尋:**
```
❌ 不好: "手機"
✅ 較好: "iPhone 15"
✅✅ 最好: "Apple iPhone 15 Pro 256GB 紫色"
```

**選擇平台:**
```
快速比價: 選 2 個平台（10秒內）
全面比價: 選 3 個平台（15秒內）
```

### 3. 找到最優惠商品

**步驟:**
1. 先按「價格」排序 → 找最低價
2. 再按「折扣」排序 → 找折扣最大
3. 比較兩者 → 選擇最划算的
4. 檢查評分與銷量 → 確保品質

**判斷標準:**
- 💚 **優先**: 最低價 + 高評分 + 免運
- 💛 **考慮**: 次低價 + 最高評分 + 大量銷售
- 💔 **避免**: 低價 + 低評分 + 少量評論

### 4. 圖片搜尋技巧

**拍照建議:**
- 📸 正面清晰照
- ☀️ 光線充足
- 🎯 商品占畫面 70% 以上
- 🚫 避免反光
- 🚫 避免手指遮擋

**上傳建議:**
- 使用官方產品圖
- 白色背景最佳
- PNG 格式優於 JPG
- 大小 500KB-2MB

---

## 🔧 常見問題

### Q1: 搜尋速度很慢？

**原因:**
- 選擇太多平台
- 網路連接慢
- 平台回應慢

**解決:**
- 減少平台數量（2-3個）
- 檢查網路連接
- 稍後再試

### Q2: 找不到想要的商品？

**檢查:**
- ✅ 關鍵字是否正確
- ✅ 是否選對平台
- ✅ 商品是否存在
- ✅ 名稱是否完整

**建議:**
- 簡化關鍵字
- 更換搜尋方式
- 嘗試其他平台

### Q3: 圖片搜尋失敗？

**可能原因:**
- 未配置 AI API Key
- 圖片品質不佳
- 圖片過大或過小
- API 配額用盡

**解決方法:**
1. 檢查 `.env` 文件
2. 更換清晰圖片
3. 壓縮圖片大小
4. 檢查 API 餘額

### Q4: 價格不準確？

**說明:**
- 價格是即時爬取
- 可能有快取延遲
- 平台促銷可能不同步

**建議:**
- 點擊「前往購買」確認
- 查看商品頁面實際價格
- 注意活動期間

### Q5: 無法開啟商品頁面？

**原因:**
- 商品已下架
- 連結已失效
- 瀏覽器封鎖彈窗

**解決:**
- 允許彈出視窗
- 複製連結手動打開
- 嘗試其他商品

---

## 🎓 進階使用

### 批量比價（開發中）

未來功能:
- CSV 匯入商品列表
- 一次比較 100+ 商品
- Excel 匯出結果

### 價格追蹤（開發中）

未來功能:
- 設定目標價格
- 價格降低通知
- 歷史價格圖表

### 廠商管理（開發中）

未來功能:
- 保存優質賣家
- 記錄聯絡方式
- 評分與備註

---

## 📞 獲取幫助

### 查看文檔
- 📘 [完整系統規劃](./PRICE_COMPARISON_SYSTEM_PLAN.md)
- 📗 [詳細 README](./PRICE_COMPARISON_README.md)
- 📙 [快速啟動指南](./QUICK_START_COMPARISON.md)
- 📕 [實作完成報告](./IMPLEMENTATION_COMPLETE.md)

### 常見資源
- [Supabase 文檔](https://supabase.com/docs)
- [React 教學](https://react.dev/learn)
- [TypeScript 手冊](https://www.typescriptlang.org/docs/)

---

## 🎯 快速參考

### 環境變數
```env
VITE_SUPABASE_URL=必需
VITE_SUPABASE_ANON_KEY=必需
VITE_OPENROUTER_API_KEY=可選（圖片搜尋）
```

### 常用指令
```bash
npm install          # 安裝依賴
npm run dev          # 啟動開發
npm run build        # 構建生產
```

### 支持平台
- ✅ 蝦皮購物 (Shopee)
- ✅ PChome 24h
- ✅ momo購物網

---

**祝您使用愉快！找到最優惠的價格！💰✨**

---

**最後更新**: 2025-11-20
